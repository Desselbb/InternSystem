@page "/InternProjects"

<h3>InternProjects</h3>


<div class="back-button">
    <NavLink class="btn btn-primary" href="InternDashboard" role="button">Back</NavLink>
</div>

<center>

    <div class="container">

    <table class="table table-striped table-bordered table-hover mt-4">
        <caption>Your Projects</caption>
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Department</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in tableData)
            {
                <tr>
                    <td>@item.Name</td>
                    <td>@item.Description</td>
                    <td>@item.DepartmentId</td>

                </tr>
            }
        </tbody>
    </table>
    </div>
</center>


@code {
    List<InternSystemClassLibrary.Models.Project> tableData = new();
    InternSystemClassLibrary.Models.Project Model { get; set; } = new();

    void Process()
    {
        if (Model.Id == 0)
        {
            if (projectService.Add(Model))
            {
                ReloadData();
            }
        }
        else
        {
            if (projectService.Update(Model))
            {
                ReloadData();
            }
        }
    }
    void ReloadData()
    {
        Model = new();
        tableData = projectService.GetAll();
        StateHasChanged();

    }

}

